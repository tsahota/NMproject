<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add run results into a covariate tibble — bind_covariate_results • NMproject</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add run results into a covariate tibble — bind_covariate_results" />
<meta property="og:description" content="
Extracts results from completed covariate runs and combines them into the
covariate tibble().
The goal of NMproject's covariate modelling functions is to provide a
stepwise covariate method with manual decision making.  This important to
ensure that the full model selection/evaluation criteria (should be defined
in statistical analysis plans) can be applied at every step rather than just
log likelihood ratio testing, where the most significant model may be
unstable, may worsen model predictions or may only be slightly more
significant than a more physiologically plausible covariate relationship.
The functions test_relations(), covariate_step_tibble(),
bind_covariate_results() together comprise NMproject stepwise covariate
method with manual decision.  The goal is to be part way between PsN's SCM
and completely manual process at each forward and backward elimination step.
The syntax of how covariates are included is the same as PsN's SCM routine -
See PsN documentation
for more information." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMproject</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/articles/NMproject.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tsahota/NMproject/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add run results into a covariate tibble</h1>
    <small class="dont-index">Source: <a href='https://github.com/tsahota/NMproject/blob/master/R/stepwise-covariate.R'><code>R/stepwise-covariate.R</code></a></small>
    <div class="hidden name"><code>bind_covariate_results.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#stable'><img src='figures/lifecycle-stable.svg' alt='[Stable]' /></a></p>
<p>Extracts results from completed covariate runs and combines them into the
covariate <code>tibble()</code>.</p>
<p>The goal of NMproject's covariate modelling functions is to provide a
stepwise covariate method <em>with manual decision</em> making.  This important to
ensure that the full model selection/evaluation criteria (should be defined
in statistical analysis plans) can be applied at every step rather than just
log likelihood ratio testing, where the most significant model may be
unstable, may worsen model predictions or may only be slightly more
significant than a more physiologically plausible covariate relationship.</p>
<p>The functions <code><a href='test_relations.html'>test_relations()</a></code>, <code><a href='covariate_step_tibble.html'>covariate_step_tibble()</a></code>,
<code>bind_covariate_results()</code> together comprise NMproject stepwise covariate
method with manual decision.  The goal is to be part way between PsN's SCM
and completely manual process at each forward and backward elimination step.
The syntax of how covariates are included is the same as PsN's SCM routine -
See <a href='https://uupharmacometrics.github.io/PsN/docs.html'>PsN documentation</a>
for more information.</p>
    </div>

    <pre class="usage"><span class='fu'>bind_covariate_results</span><span class='op'>(</span><span class='va'>dsc</span>, nm_col <span class='op'>=</span> <span class='st'>"m"</span>, parameters <span class='op'>=</span> <span class='st'>"new"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dsc</th>
      <td><p>An output <code>tibble</code> from <code><a href='covariate_step_tibble.html'>covariate_step_tibble()</a></code>.</p></td>
    </tr>
    <tr>
      <th>nm_col</th>
      <td><p>Character (default = <code>"m"</code>). Name of column to store nm objects.</p></td>
    </tr>
    <tr>
      <th>parameters</th>
      <td><p>Character (default = <code>"new"</code>).  Passed to <code><a href='nm_summary.html'>summary_wide()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An modified version of <code>dsc</code> with additional columns from
<code><a href='nm_summary.html'>summary_wide()</a></code> for model selection purposes.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='covariate_step_tibble.html'>covariate_step_tibble()</a></code> and <code><a href='nm_render.html'>nm_render()</a></code> for rendering diagnostic
reports for (subsets of) models in <code>nm_col</code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## requires NONMEM to be installed</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## create tibble of covariate step with model objects as column m</span>
<span class='va'>dsm1</span> <span class='op'>&lt;-</span> <span class='va'>m1</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='covariate_step_tibble.html'>covariate_step_tibble</a></span><span class='op'>(</span>
  run_id <span class='op'>=</span> <span class='st'>"m1_f1"</span>,
  dtest <span class='op'>=</span> <span class='va'>dtest</span>,
  direction <span class='op'>=</span> <span class='st'>"forward"</span>
<span class='op'>)</span>

<span class='co'>## run all models greedily</span>
<span class='va'>dsm1</span><span class='op'>$</span><span class='va'>m</span> <span class='op'>&lt;-</span> <span class='va'>dsm1</span><span class='op'>$</span><span class='va'>m</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='run_nm.html'>run_nm</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'><a href='wait_finish.html'>wait_finish</a></span><span class='op'>(</span><span class='va'>dsm1</span><span class='op'>$</span><span class='va'>m</span><span class='op'>)</span>

<span class='co'>## extract results and put into tibble</span>
<span class='va'>dsm1</span> <span class='op'>&lt;-</span> <span class='va'>dsm1</span> <span class='op'>%&gt;%</span> <span class='fu'>bind_covariate_results</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'>## plot goodness of fit diagnostics top 3 models (in terms of p-value)</span>
<span class='va'>dsm1</span><span class='op'>$</span><span class='va'>m</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='nm_render.html'>nm_render</a></span><span class='op'>(</span><span class='st'>"Scripts/basic_gof.Rmd"</span><span class='op'>)</span>

<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tarj Sahota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


