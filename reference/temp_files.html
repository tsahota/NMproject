<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Remove temporary NONMEM files — temp_files • NMproject</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Remove temporary NONMEM files — temp_files" />
<meta property="og:description" content="
NONMEM produces a lot of temporary files which can add up to a lot of disk
space.  One strategy to remove this is to use the clean option in the PsN
command.  However, this can automatically remove files as soon as the run
finishes that may be useful for debugging.  ls_tempfiles()`` allows you to list the paths of all temporary files, for a single run or for all runs for inspection and deletion. clean_run()is a wrapper function that runsls_tempfiles()and deletes everything returned.  For safety is limited to only deleting files associated withnm` objects though." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMproject</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/NMproject.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tsahota/NMproject/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Remove temporary NONMEM files</h1>
    <small class="dont-index">Source: <a href='https://github.com/tsahota/NMproject/blob/master/R/run_nm.R'><code>R/run_nm.R</code></a></small>
    <div class="hidden name"><code>temp_files.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#stable'><img src='figures/lifecycle-stable.svg' alt='[Stable]' /></a></p>
<p>NONMEM produces a lot of temporary files which can add up to a lot of disk
space.  One strategy to remove this is to use the <code>clean</code> option in the PsN
command.  However, this can automatically remove files as soon as the run
finishes that may be useful for debugging.  <code>ls_tempfiles()`` allows you to list the paths of all temporary files, for a single run or for all runs for inspection and deletion. </code>clean_run()<code>is a wrapper function that runs</code>ls_tempfiles()<code>and deletes everything returned.  For safety is limited to only deleting files associated with</code>nm` objects though.</p>
    </div>

    <pre class="usage"><span class='fu'>ls_tempfiles</span><span class='op'>(</span>
  object <span class='op'>=</span> <span class='st'>"."</span>,
  output_loc <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"run_dir"</span>, <span class='st'>"base"</span><span class='op'>)</span>,
  run_files <span class='op'>=</span> <span class='cn'>NA_character_</span>,
  include_slurm_files <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ctl_extension <span class='op'>=</span> <span class='st'>"mod"</span>,
  include_psn_exports <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>clean_run</span><span class='op'>(</span><span class='va'>m</span>, output_loc <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"run_dir"</span>, <span class='st'>"base"</span><span class='op'>)</span>, include_slurm_files <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Either an nm object or path to project (default = <code>"."</code>).  If a
path is specified, the function will look for all runs in the directory
(including subdirectories).</p></td>
    </tr>
    <tr>
      <th>output_loc</th>
      <td><p>Optional character for locating files. Either <code>"run_dir"</code>
(default) for PsN execution or <code>"base"</code> for "nmfe" execution.</p></td>
    </tr>
    <tr>
      <th>run_files</th>
      <td><p>Optional character vector.  Search amongst only these files
instead.  Default value <code>NA</code> searches based on <code>object</code>.</p></td>
    </tr>
    <tr>
      <th>include_slurm_files</th>
      <td><p>Logical (default = <code>TRUE</code>). Include files
generated by Slurm.</p></td>
    </tr>
    <tr>
      <th>ctl_extension</th>
      <td><p>Character. Extension of control file (default = <code>"mod"</code>)</p></td>
    </tr>
    <tr>
      <th>include_psn_exports</th>
      <td><p>Logical (default = <code>FALSE</code>). Considers files that
PsN exports to the <code>run_in</code> directory as temporary</p></td>
    </tr>
    <tr>
      <th>m</th>
      <td><p>An nm object</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Setting <code>include_psn_exports = TRUE</code> will break 'Pirana' and 'xpose'
capability as these software use exported files.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='fu'>ls_tempfiles</span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span> <span class='co'>## display all temp files associated with m1</span>

<span class='va'>m1</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ls_tempfiles</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span><span class='op'>(</span><span class='op'>)</span> <span class='co'>## delete all m1 temp files</span>

<span class='co'>## above line is equivalent to:</span>
<span class='fu'>clean_run</span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>

<span class='fu'>ls_tempfiles</span><span class='op'>(</span><span class='op'>)</span> <span class='co'>## display all temp files in analysis project</span>

<span class='fu'>ls_tempfiles</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span><span class='op'>(</span><span class='op'>)</span> <span class='co'>## remove all temp files in analysis project</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tarj Sahota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


