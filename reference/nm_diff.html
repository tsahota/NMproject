<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute diff between two NONMEM runs — nm_diff • NMproject</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Compute diff between two NONMEM runs — nm_diff" />
<meta property="og:description" content="
The easiest way to use this function is via the &quot;view diff&quot; RStudio 'Addin'.
NMproject's control file manipulation functions (e.g. subroutine())
may not work for all control files. It is the responsibility of
the user to check automatic manipulations are done properly.
Displaying diffs provides a means of manually checking what was done." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMproject</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/articles/NMproject.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tsahota/NMproject/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute diff between two NONMEM runs</h1>
    <small class="dont-index">Source: <a href='https://github.com/tsahota/NMproject/blob/master/R/nm_diff.R'><code>R/nm_diff.R</code></a></small>
    <div class="hidden name"><code>nm_diff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#stable'><img src='figures/lifecycle-stable.svg' alt='[Stable]' /></a></p>
<p>The easiest way to use this function is via the "view diff" RStudio 'Addin'.</p>
<p>NMproject's control file manipulation functions (e.g. <code><a href='subroutine.html'>subroutine()</a></code>)
may not work for all control files. It is the responsibility of
the user to check automatic manipulations are done properly.
Displaying diffs provides a means of manually checking what was done.</p>
    </div>

    <pre class="usage"><span class='fu'>nm_diff</span><span class='op'>(</span><span class='va'>m</span>, <span class='va'>ref_m</span>, format <span class='op'>=</span> <span class='st'>"raw"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>m</th>
      <td><p>An nm object.</p></td>
    </tr>
    <tr>
      <th>ref_m</th>
      <td><p>An optional nm object (base/reference object).  If not
specified, it will compute the diff the initial control file contents
associated with the object at the time of object create.  This information
is stored in the <code>ctl_orig</code> field.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>Character (default = <code>"raw"</code>) argument passed to
<code><a href='https://rdrr.io/pkg/diffobj/man/diffChr.html'>diffobj::diffChr()</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly returns a <code>character</code> vector of the diff.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># create example object m1 from package demo files</span>
<span class='va'>exdir</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"examples"</span>, <span class='st'>"theopp"</span>, package <span class='op'>=</span> <span class='st'>"NMproject"</span><span class='op'>)</span>
<span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='new_nm.html'>new_nm</a></span><span class='op'>(</span>run_id <span class='op'>=</span> <span class='st'>"m1"</span>, 
             based_on <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>exdir</span>, <span class='st'>"Models"</span>, <span class='st'>"ADVAN2.mod"</span><span class='op'>)</span>,
             data_path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>exdir</span>, <span class='st'>"SourceData"</span>, <span class='st'>"THEOPP.csv"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='va'>m1</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='child.html'>child</a></span><span class='op'>(</span>run_id <span class='op'>=</span> <span class='st'>"m2"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='subroutine.html'>subroutine</a></span><span class='op'>(</span>advan <span class='op'>=</span> <span class='fl'>2</span>, trans <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

<span class='fu'>nm_diff</span><span class='op'>(</span><span class='va'>m2</span>, <span class='va'>m1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt; old_ctl                                                                       
#&gt; &gt; new_ctl                                                                       
#&gt; @@ 1,3 / 1,3 @@                                                                 
#&gt; &lt; ;; 1. Based on: NA                                                            
#&gt; &gt; ;; 1. Based on: m1                                                            
#&gt;   ;; 2. Description: 1CMT+oral                                                  
#&gt;   ;; x1. Author: runner                                                         
#&gt; @@ 24,6 / 24,5 @@                                                               
#&gt;   $INPUT ...                                                                    
#&gt;   $DATA ../../../../../../../../../../Users/runner/work/_temp/Library/NMproject/
#&gt;   extdata/examples/theopp/SourceData/THEOPP.csv IGNORE=@                        
#&gt; &lt; $SUB ADVAN2                                                                   
#&gt; &gt; $SUB ADVAN2 TRANS2                                                            
#&gt; &lt;                                                                               
#&gt;   $PK                                                                           
#&gt;                                                                                 
#&gt; @@ 32,7 / 31,7 @@                                                               
#&gt;   KA = EXP(MU_1+ETA(1))                                                         
#&gt;                                                                                 
#&gt; &lt; TVK=EXP(THETA(2))                                                             
#&gt; &gt; TVCL=EXP(THETA(2))                                                            
#&gt; &lt; MU_2=LOG(TVK)                                                                 
#&gt; &gt; MU_2=LOG(TVCL)                                                                
#&gt; &lt; K = EXP(MU_2+ETA(2))                                                          
#&gt; &gt; CL = EXP(MU_2+ETA(2))                                                         
#&gt;                                                                                 
#&gt;   TVV=EXP(THETA(3))                                                             
#&gt; @@ 40,5 / 39,5 @@                                                               
#&gt;   V = EXP(MU_3+ETA(3))                                                          
#&gt;                                                                                 
#&gt; &lt; CL = K*V                                                                      
#&gt; &gt; ; CL = K*V                                                                    
#&gt;                                                                                 
#&gt;   S2 = V                                                                        
#&gt; @@ 55,10 / 54,9 @@                                                              
#&gt;   $THETA                                                                        
#&gt;   .....           ; KA ; h-1 ; LOG                                              
#&gt; &lt; .....           ; K  ; h-1 ; LOG                                              
#&gt; &gt; .....   ; CL ; h-1 ; LOG                                                      
#&gt;   .....           ; V  ; L ; LOG                                                
#&gt; &lt;                                                                               
#&gt;   $OMEGA                                                                        
#&gt;   0.1                               ; IIV_KA ; LOG                              
#&gt; &lt; 0.1                               ; IIV_K ; LOG                               
#&gt; &gt; 0.1                               ; IIV_CL ; LOG                              
#&gt;   0.1                               ; IIV_V ; LOG                               
#&gt;                                                                                 
#&gt; @@ 89,9 / 87,9 @@                                                               
#&gt;                                                                                 
#&gt;   $TABLE ID TIME IPRED IWRES IRES CWRES NPDE                                    
#&gt; &lt; FILE=sdtabm1 NOPRINT ONEHEADER                                                
#&gt; &gt; FILE=sdtabm2 NOPRINT ONEHEADER                                                
#&gt;   $TABLE ID ETAS(1:LAST); individual parameters                                 
#&gt; &lt; FILE=patabm1 NOPRINT ONEHEADER                                                
#&gt; &gt; FILE=patabm2 NOPRINT ONEHEADER                                                
#&gt;   $TABLE ID ; continuous covariates                                             
#&gt; &lt; FILE=cotabm1 NOPRINT ONEHEADER                                                
#&gt; &gt; FILE=cotabm2 NOPRINT ONEHEADER                                                
#&gt;   $TABLE ID ; categorical covariates                                            
#&gt; &lt; FILE=catabm1 NOPRINT ONEHEADER                                                
#&gt; &gt; FILE=catabm2 NOPRINT ONEHEADER                                                </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tarj Sahota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'be93a35b426aba9fa8e576efbb2011e7',
    indexName: 'NMproject',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


