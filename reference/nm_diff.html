<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute diff between two NONMEM runs — nm_diff • NMproject</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Compute diff between two NONMEM runs — nm_diff"><meta property="og:description" content="
The easiest way to use this function is via the &quot;view diff&quot; RStudio 'Addin'.
NMproject's control file manipulation functions (e.g. subroutine())
may not work for all control files. It is the responsibility of
the user to check automatic manipulations are done properly.
Displaying diffs provides a means of manually checking what was done."><meta property="og:image" content="https://tsahota.github.io/NMproject/logo.svg"><meta name="google-site-verification" content="Asq9eKyn87Krpkza8Y-Y_XiS5V6eNXGAreGhOYcBKd0"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMproject</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/NMproject.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a01_config.html">Configuration &amp; Setup Options</a>
    </li>
    <li>
      <a href="../articles/a02_analysis_directories.html">Analysis Directories</a>
    </li>
    <li>
      <a href="../articles/a03_demo.html">The Demo</a>
    </li>
    <li>
      <a href="../articles/a04_code_library.html">Code Library</a>
    </li>
    <li>
      <a href="../articles/a05_core_object.html">The basics of the NM object</a>
    </li>
    <li>
      <a href="../articles/a06_execution.html">NONMEM execution</a>
    </li>
    <li>
      <a href="../articles/a07_post_processing.html">Post-processing &amp; diagnostics</a>
    </li>
    <li>
      <a href="../articles/a08_covariate_modelling.html">Covariate Modelling</a>
    </li>
    <li>
      <a href="../articles/a09_advanced_topics.html">Advanced Topics</a>
    </li>
    <li>
      <a href="../articles/a10_FAQ.html">FAQ</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/tsahota/NMproject/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute diff between two NONMEM runs</h1>
    <small class="dont-index">Source: <a href="https://github.com/tsahota/NMproject/blob/HEAD/R/nm_diff.R" class="external-link"><code>R/nm_diff.R</code></a></small>
    <div class="hidden name"><code>nm_diff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>The easiest way to use this function is via the "view diff" RStudio 'Addin'.</p>
<p>NMproject's control file manipulation functions (e.g. <code><a href="subroutine.html">subroutine()</a></code>)
may not work for all control files. It is the responsibility of
the user to check automatic manipulations are done properly.
Displaying diffs provides a means of manually checking what was done.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">nm_diff</span><span class="op">(</span><span class="va">m</span>, <span class="va">ref_m</span>, format <span class="op">=</span> <span class="st">"raw"</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>m</dt>
<dd><p>An nm object.</p></dd>
<dt>ref_m</dt>
<dd><p>An optional nm object (base/reference object).  If not
specified, it will compute the diff the initial control file contents
associated with the object at the time of object create.  This information
is stored in the <code>ctl_orig</code> field.</p></dd>
<dt>format</dt>
<dd><p>Character (default = <code>"raw"</code>) argument passed to
<code><a href="https://rdrr.io/pkg/diffobj/man/diffChr.html" class="external-link">diffobj::diffChr()</a></code></p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Invisibly returns a <code>character</code> vector of the diff.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># create example object m1 from package demo files</span></span>
<span class="r-in"><span class="va">exdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"examples"</span>, <span class="st">"theopp"</span>, package <span class="op">=</span> <span class="st">"NMproject"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_nm.html">new_nm</a></span><span class="op">(</span>run_id <span class="op">=</span> <span class="st">"m1"</span>, </span>
<span class="r-in">             based_on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">exdir</span>, <span class="st">"Models"</span>, <span class="st">"ADVAN2.mod"</span><span class="op">)</span>,</span>
<span class="r-in">             data_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">exdir</span>, <span class="st">"SourceData"</span>, <span class="st">"THEOPP.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">m2</span> <span class="op">&lt;-</span> <span class="va">m1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="child.html">child</a></span><span class="op">(</span>run_id <span class="op">=</span> <span class="st">"m2"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="subroutine.html">subroutine</a></span><span class="op">(</span>advan <span class="op">=</span> <span class="fl">2</span>, trans <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">nm_diff</span><span class="op">(</span><span class="va">m2</span>, <span class="va">m1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; old_ctl                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; new_ctl                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 1,3 / 1,3 @@                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; ;; 1. Based on: NA                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ;; 1. Based on: m1                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ;; 2. Description: 1CMT+oral                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ;; x1. Author: runner                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 24,6 / 24,5 @@                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $INPUT ...                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $DATA ../../../../../../../../../../Users/runner/work/_temp/Library/NMproject/</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   extdata/examples/theopp/SourceData/THEOPP.csv IGNORE=@                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; $SUB ADVAN2                                                                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; $SUB ADVAN2 TRANS2                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;                                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $PK                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 32,7 / 31,7 @@                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   KA = EXP(MU_1+ETA(1))                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; TVK=EXP(THETA(2))                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; TVCL=EXP(THETA(2))                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; MU_2=LOG(TVK)                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; MU_2=LOG(TVCL)                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; K = EXP(MU_2+ETA(2))                                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; CL = EXP(MU_2+ETA(2))                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TVV=EXP(THETA(3))                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 40,5 / 39,5 @@                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   V = EXP(MU_3+ETA(3))                                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; CL = K*V                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; ; CL = K*V                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   S2 = V                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 51,14 / 50,12 @@                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   IWRES=IRES/W                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y=IPRED + IPRED*EPS(1) + EPS(2)                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;                                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $THETA                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .....           ; KA ; h-1 ; LOG                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; .....           ; K  ; h-1 ; LOG                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; .....   ; CL ; h-1 ; LOG                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .....           ; V  ; L ; LOG                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;                                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $OMEGA                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.1                               ; IIV_KA ; LOG                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; 0.1                               ; IIV_K ; LOG                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; 0.1                               ; IIV_CL ; LOG                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.1                               ; IIV_V ; LOG                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 67,5 / 64,4 @@                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .....           ; add error                                                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;                                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ; Parameter estimation - FOCE                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ;$EST METHOD=1 INTER NOABORT MAXEVAL=9999 PRINT=1 NSIG=3 SIGL=9               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @@ 89,9 / 85,9 @@                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $TABLE ID TIME IPRED IWRES IRES CWRES NPDE                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; FILE=sdtabm1 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; FILE=sdtabm2 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $TABLE ID ETAS(1:LAST); individual parameters                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; FILE=patabm1 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; FILE=patabm2 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $TABLE ID ; continuous covariates                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; FILE=cotabm1 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; FILE=cotabm2 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $TABLE ID ; categorical covariates                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; FILE=catabm1 NOPRINT ONEHEADER                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; FILE=catabm2 NOPRINT ONEHEADER                                                </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tarj Sahota.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'be93a35b426aba9fa8e576efbb2011e7',
    indexName: 'NMproject',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

